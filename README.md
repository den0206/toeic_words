# 英単語タイピングテスト

TOEIC対策用の英単語タイピング練習ツールです。「金のフレーズ」の単語データを使用して、効率的に英単語を学習できます。

## 特徴

- **ダークテーマUI**: 目に優しいダークカラーのインターフェース
- **リアルタイム判定**: 入力時の正誤を即時フィードバック
- **柔軟な正解判定**: 語尾変化（s/es/ed/ing、y→ies/ied、子音重ね、e脱落、ie→ying など）を最終語で許容
- **英語例文の穴埋め表示**: 対象語が例文内で活用形でも適切に穴埋め・ハイライト
- **ヒント表示**:
  - 日本語訳にマウスオーバー/タップ中は英語例文を全文表示
  - Shift キーを押している間は「ヒント（英単語）」と例文全文を一時表示
- **正解ポップアップ**: 正解時に英語例文を1秒間ポップアップ表示（設定で ON/OFF 切替可、既定 ON）
- **操作ロック**: ポップアップ表示中は画面を一時ロック（誤入力防止）
- **セクション/出題順**: セクション絞り込みと順番/ランダム出題
- **進捗の自動保存/復元**: ローカルストレージに保存し、リロード後も続きから再開

## 使い方

### ローカルサーバーでの起動

JSONファイルの読み込みのため、ローカルサーバーが必要です：

```bash
# Node.jsのserveを使用
npx serve

# Python 3の場合
python -m http.server

# VS Code Live Server拡張機能を使用
# index.htmlを右クリック → "Open with Live Server"
```

### 操作方法

1. 右側パネルに表示される日本語を見て、対応する英単語を入力
2. Enterキーで回答を送信
3. **ヒント**:
   - 日本語訳にマウスオーバー/タップ中は英語例文を全文表示
   - Shift キーを押している間は「ヒント（英単語）」と例文全文を一時表示
4. **スキップ**: 分からない問題は「スキップ」ボタンで次へ
5. **リセット**: 「リセット」ボタンで進行状況を初期化（保存データも削除）
6. **正解ポップアップ**: 左側「表示設定」のスイッチで ON/OFF を切替（既定は ON）
7. **続きから再開**: ページをリロードしても自動で前回の続きから始まります（ローカル保存）

## ファイル構成

```
toeic_words/
├── index.html              # メインアプリケーション
├── styles.css              # スタイルシート
├── app.js                  # アプリケーションロジック
├── words/
│   ├── english_words.json  # 単語データ（JSON形式）
│   └── english_words.tsv   # 単語データ（TSV形式）
└── README.md               # このファイル
```

## データ形式

単語データは以下の形式で格納されています：

```json
{
  "en": "anyway",
  "ja": "とにかく", 
  "ja_example": "とにかくやってみよう。",
  "en_example": "Let's try anyway.",
  "section": "TOEIC L＆R TEST 出る単特急　金のフレーズ::600点レベル 助走の400語 (001-100)",
  "sound_en": "01-01.mp3",
  "sound_ja": "01-02.mp3"
}
```

## ブラウザ要件

- モダンブラウザ（Chrome、Firefox、Safari、Edge）
- JavaScript有効
- ローカルサーバー環境（CORS制限のため）

## ライセンス

このツールは学習目的で作成されています。単語データの著作権は元の出版社に帰属します。

## 補足: 自動保存（続きから再開）

- 保存内容: セクション、出題順序、出題順リスト、現在位置、正解数/試行数
- 保存場所: ブラウザの `localStorage`（キー名: `progress_v1`）
- クリア方法: 左カラムの「リセット」ボタン、またはブラウザのサイトデータ削除

## よくある質問（FAQ）

- Q. “tour” が正解でも “touring” で正解になりますか？
  - A. なります。最終語の一般的な語尾変化は正解として扱います。
- Q. 例文で活用形が使われている場合も穴埋めになりますか？
  - A. はい。y→ies/ied、e脱落、子音重ね、ie→ying など代表的な変化を考慮して穴埋めします（不規則変化は対象外）。
- Q. ポップアップが邪魔です。
  - A. 左カラム「表示設定」のスイッチで無効化できます。
